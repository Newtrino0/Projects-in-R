---
title: 'Lab #3'
author: "Mario Arce Acosta"
date: "2024-05-31"
output:
  word_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r Side-by-Side Comparison of summaries for models}
library(stargazer)

#Load and see structure of data
myData<-mtcars
structure(myData)

##Build, summarize, and interpret models

#Linear model
model1<-lm(mpg~disp,myData)
#Lin-Log model
model2<-lm(mpg~log(disp),myData)
#Log-Log model
model3<-lm(log(mpg)~log(disp),myData)

stargazer(model1, model2, model3,covariate.labels=c("disp"), type="text",  out="models1.text")

#We see that coefficients are stat significant for each model but, Lin-Log performs better with a higher R^2 and F-stat (more sample variance explained) despite its distribution not being as "normal" as Model 3's
```

```{r Model 1}
#Plot with relationship
plot(myData$disp,myData$mpg, xlab="disp",ylab="mpg")
abline(model1,col="red")
#Plot with residuals and fitted values, with histogram, and Q-Q
plot(model1)
hist(model1$residuals, xlab="Residuals", main="Check normality with Histogram of residuals")

#Not a normally distributed histogram, skewed to right
```

```{r Model 2}
#Plot and see visuals
library(ggplot2)
ggplot(myData, aes(log(myData$disp), myData$mpg)) + geom_point() + stat_smooth(method="lm",fill="gray")
#ggplot(myData, aes(myData$disp, myData$mpg)) + geom_point() + stat_smooth(method="lm",formula=y~log(x),fill="gray")

#Plot residuals vs fitted, and Q-Q
plot(model2)
hist(model2$residuals, xlab="Residuals", main="Check normality with Histogram of residuals")

#Not nomrally distributed with histogram, but better than 1st model's histogram
```

```{r Model 3 plots}
#Plot to see relationship
library(ggplot2)
ggplot(myData, aes(log(myData$disp), log(myData$mpg))) + geom_point() + stat_smooth(method="lm",fill="gray")
#Plot residuals vs. fitted, and Q-Q
plot(model3)
#Much more normally distributed
hist(model3$residuals, xlab="Residuals", main="Check normality with Histogram of residuals")


```



Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
